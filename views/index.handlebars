<div class="container">
    <div class="row justify-content-center">

        <h1>Burgers Orders!</h1>
    </div>
    <h2>Burgers are not ready!</h2>

    <ul>
        {{#each burgers}}
        {{#unless devoured}}
        <li>{{burger_name }} <button type="submit" class="btn btn-prmimary ">Devoured </button></li>
        {{/unless}}
        {{/each}}
    </ul>

    <h2>Burgers are ready!</h2>

    {{#each burgers}}
    {{#if devoured}}
    <li>{{burger_name }}</li>
    {{/if}}
    {{/each}}

    <div>
        <form id="newBurger">
            <textarea type="text" name="burger"></textarea>

            <button type="submit" name="devoured" value="0">Submit</button>
        </form>
    </div>
</div>
<script type="text/javascript">
    $(() => {
        $("#newBurger").on("submit", function (event) {
            // Make sure to preventDefault on a submit event.
            event.preventDefault();

            // [name=burger] will find an element with a "name" attribute equal to the string "plan"
            var newBurg = {
                burger_name: $("[name=burger]").val().trim()
            };

            // Send the POST request.
            $.ajax("/api/burgers", {
                type: "POST",
                data: newBurg
            }).then(
                function () {
                    console.log(" new burger  ordered");
                    // Reload the page to get the updated list
                    location.reload();
                }
            );
        });
    });
</script>